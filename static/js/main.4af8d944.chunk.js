(this["webpackJsonpsubstrate-front-end"]=this["webpackJsonpsubstrate-front-end"]||[]).push([[0],{1109:function(e){e.exports=JSON.parse('{"PROVIDER_SOCKET":"wss://rpc.polkadot.io"}')},1116:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(133),l=n.n(c),u=n(1137),o=n(1128),i=n(1138),s=n(1133),E=n(1129),m=(n(514),n(58)),p=n(37),f=n(317),O=n.n(f),d=n(495),b=n.n(d),C=n(319),v=n(496),S=n(1109),N=["REACT_APP_PROVIDER_SOCKET","REACT_APP_DEVELOPMENT_KEYRING"].reduce((function(e,t){return void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"/substrate-front-end",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0})[t]&&(e[t.slice(10)]=Object({NODE_ENV:"production",PUBLIC_URL:"/substrate-front-end",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0})[t]),e}),{}),R=Object(p.a)(Object(p.a)(Object(p.a)({},v),S),N),j=b.a.parse(window.location.search).rpc||R.PROVIDER_SOCKET;console.log("Connected socket: ".concat(j));var h={socket:j,jsonrpc:Object(p.a)(Object(p.a)({},O.a),R.RPC),types:R.CUSTOM_TYPES,keyring:null,keyringState:null,api:null,apiError:null,apiState:null},y=function(e,t){switch(t.type){case"CONNECT_INIT":return Object(p.a)(Object(p.a)({},e),{},{apiState:"CONNECT_INIT"});case"CONNECT":return Object(p.a)(Object(p.a)({},e),{},{api:t.payload,apiState:"CONNECTING"});case"CONNECT_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{apiState:"READY"});case"CONNECT_ERROR":return Object(p.a)(Object(p.a)({},e),{},{apiState:"ERROR",apiError:t.payload});case"LOAD_KEYRING":return Object(p.a)(Object(p.a)({},e),{},{keyringState:"LOADING"});case"SET_KEYRING":return Object(p.a)(Object(p.a)({},e),{},{keyring:t.payload,keyringState:"READY"});case"KEYRING_ERROR":return Object(p.a)(Object(p.a)({},e),{},{keyring:null,keyringState:"ERROR"});default:throw new Error("Unknown type: ".concat(t.type))}},T=r.a.createContext(),_=function(e){var t=Object(p.a)({},h);["socket","types"].forEach((function(n){t[n]="undefined"===typeof e[n]?t[n]:e[n]}));var n=Object(a.useReducer)(y,t),c=Object(m.a)(n,2),l=c[0];return function(e,t){var n=e.apiState,a=e.socket,r=e.jsonrpc,c=e.types;if(!n){t({type:"CONNECT_INIT"});var l=new C.WsProvider(a),u=new C.ApiPromise({provider:l,types:c,rpc:r});u.on("connected",(function(){t({type:"CONNECT",payload:u}),u.isReady.then((function(e){return t({type:"CONNECT_SUCCESS"})}))})),u.on("ready",(function(){return t({type:"CONNECT_SUCCESS"})})),u.on("error",(function(e){return t({type:"CONNECT_ERROR",payload:e})}))}}(l,c[1]),r.a.createElement(T.Provider,{value:l},e.children)},w=function(){return Object(p.a)({},Object(a.useContext)(T))},k=(n(92),n(24)),g=n.n(k),P=n(66),D=n(1134);n(497);function I(e){var t=w(),a=t.api,r=t.apiState,c=t.keyring,l=t.keyringState;return"READY"===r&&(window.api=a),"READY"===l&&(window.keyring=c),window.util=n(3),window.utilCrypto=n(44),null}var A=n(1132),x=n(1136),K=n(172),H=n(1131);function M(e){var t=w().api,n=e.finalized,c=Object(a.useState)(0),l=Object(m.a)(c,2),u=l[0],o=l[1],s=Object(a.useState)(0),E=Object(m.a)(s,2),p=E[0],f=E[1],O=Object(a.useState)(0),d=Object(m.a)(O,2),b=d[0],C=d[1],v=Object(a.useState)({}),S=Object(m.a)(v,2),N=S[0],R=S[1],j=n?t.derive.chain.bestNumberFinalized:t.derive.chain.bestNumber;Object(a.useEffect)((function(){var e=null;return j((function(e){o(e.toNumber()),f(0),R({})})).then((function(t){e=t})).catch(console.error),function(){return e&&e()}}),[j]),Object(a.useEffect)((function(){t.rpc.chain.getBlockHash(u).then((function(e){return C(e.toHuman()),t.rpc.chain.getBlock(e)})).then((function(e){R(e)}))}),[u]);var h=function(){f((function(e){return e+1}))};return Object(a.useEffect)((function(){var e=setInterval(h,1e3);return function(){return clearInterval(e)}}),[]),r.a.createElement(i.a.Row,{stretched:!0},r.a.createElement(i.a.Column,{width:4},r.a.createElement(A.a,null,r.a.createElement(A.a.Content,{textAlign:"center"},r.a.createElement(x.a,{label:(n?"Finalized":"Current")+" Block",value:u})),r.a.createElement(A.a.Content,{extra:!0},r.a.createElement(K.a,{name:"time"})," ",p))),r.a.createElement(i.a.Column,{width:10},r.a.createElement(A.a,{fluid:!0},r.a.createElement(H.a,{celled:!0},r.a.createElement(H.a.Body,null,r.a.createElement(H.a.Row,null,r.a.createElement(H.a.Cell,null,"Block Hash"),r.a.createElement(H.a.Cell,null,b)),r.a.createElement(H.a.Row,null,r.a.createElement(H.a.Cell,null,"Parent Hash"),r.a.createElement(H.a.Cell,null,N.block&&N.block.header.parentHash.toHuman())))))))}function Y(e){var t=w().api;return t.derive&&t.derive.chain&&t.derive.chain.bestNumber&&t.derive.chain.bestNumberFinalized?r.a.createElement(M,e):null}var U=n(1130);function V(e){var t=w().api,n=Object(a.useState)({data:null,version:null}),c=Object(m.a)(n,2),l=c[0],u=c[1];return Object(a.useEffect)((function(){(function(){var e=Object(P.a)(g.a.mark((function e(){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.rpc.state.getMetadata();case 3:n=e.sent,u({data:n,version:n.version}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[t.rpc.state]),r.a.createElement(i.a.Column,null,r.a.createElement(A.a,null,r.a.createElement(A.a.Content,null,r.a.createElement(A.a.Header,null,"Metadata"),r.a.createElement(A.a.Meta,null,r.a.createElement("span",null,"v",l.version))),r.a.createElement(A.a.Content,{extra:!0},r.a.createElement(U.a,{trigger:r.a.createElement(D.a,null,"Show Metadata")},r.a.createElement(U.a.Header,null,"Runtime Metadata"),r.a.createElement(U.a.Content,{scrolling:!0},r.a.createElement(U.a.Description,null,r.a.createElement("pre",null,r.a.createElement("code",null,JSON.stringify(l.data,null,2)))))))))}function B(e){var t=w().api;return t.rpc&&t.rpc.state&&t.rpc.state.getMetadata?r.a.createElement(V,e):null}function L(e){var t=w().api,n=Object(a.useState)({}),c=Object(m.a)(n,2),l=c[0],u=c[1];return Object(a.useEffect)((function(){(function(){var e=Object(P.a)(g.a.mark((function e(){var n,a,r,c,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([t.rpc.system.chain(),t.rpc.system.name(),t.rpc.system.version()]);case 3:n=e.sent,a=Object(m.a)(n,3),r=a[0],c=a[1],l=a[2],u({chain:r,nodeName:c,nodeVersion:l}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}})()()}),[t.rpc.system]),r.a.createElement(i.a.Column,null,r.a.createElement(A.a,null,r.a.createElement(A.a.Content,null,r.a.createElement(A.a.Header,null,l.nodeName),r.a.createElement(A.a.Meta,null,r.a.createElement("span",null,l.chain)),r.a.createElement(A.a.Description,null,"This app is modified from "," ",r.a.createElement("a",{href:"https://github.com/substrate-developer-hub/substrate-front-end-template"},"Substrate Front End Template"))),r.a.createElement(A.a.Content,{extra:!0},r.a.createElement(K.a,{name:"setting"}),"v",l.nodeVersion)))}function G(e){var t=w().api;return t.rpc&&t.rpc.system&&t.rpc.system.chain&&t.rpc.system.name&&t.rpc.system.version?r.a.createElement(L,e):null}function W(){var e,t,n=w(),c=n.apiState,l=n.apiError;if("ERROR"===c)return t=l,r.a.createElement(i.a,{centered:!0,columns:2,padded:!0},r.a.createElement(i.a.Column,null,r.a.createElement(s.a,{negative:!0,compact:!0,floating:!0,header:"Error Connecting to Substrate",content:"".concat(JSON.stringify(t,null,4))})));if("READY"!==c)return e="Connecting to Substrate",r.a.createElement(u.a,{active:!0},r.a.createElement(o.a,{size:"small"},e));var m=Object(a.createRef)();return r.a.createElement("div",{ref:m},r.a.createElement(E.a,null,r.a.createElement(i.a,{stackable:!0,columns:"equal"},r.a.createElement(i.a.Row,{stretched:!0},r.a.createElement(G,null),r.a.createElement(B,null)),r.a.createElement(Y,null),r.a.createElement(Y,{finalized:!0}))),r.a.createElement(I,null))}function z(){return r.a.createElement(_,null,r.a.createElement(W,null))}l.a.render(r.a.createElement(z,null),document.getElementById("root"))},496:function(e){e.exports=JSON.parse('{"APP_NAME":"substrate-front-end-tutorial","DEVELOPMENT_KEYRING":true,"RPC":{}}')},509:function(e,t,n){e.exports=n(1116)},583:function(e,t){},636:function(e,t){},638:function(e,t){},648:function(e,t){},650:function(e,t){},676:function(e,t){},678:function(e,t){},679:function(e,t){},684:function(e,t){},686:function(e,t){},693:function(e,t){},695:function(e,t){},714:function(e,t){},726:function(e,t){},729:function(e,t){},750:function(e,t){}},[[509,1,2]]]);
//# sourceMappingURL=main.4af8d944.chunk.js.map